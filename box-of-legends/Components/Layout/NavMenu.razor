@implements IDisposable

@inject NavigationManager NavigationManager

<div class="container">
    <a href="">
        <div class="logo">
            <img src="images/logo_white.svg" alt="Box of Legends" class="img-fluid" width="300" />
        </div>
    </a>
    <div class="menu">
        <a href="" class="menu-item">
            <ion-icon name="search-outline"></ion-icon>
        </a>
        <a href="" class="menu-item">
            <ion-icon name="heart-outline"></ion-icon>
        </a>
        <a href="" class="menu-item">
            <ion-icon name="person-outline"></ion-icon>
        </a>
        <a href="" class="menu-item">
            <ion-icon name="cart-outline"></ion-icon>
        </a>
    </div>
</div>

@code {
    private string? currentUrl;

    protected override void OnInitialized()
    {
        currentUrl = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
        NavigationManager.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object? sender, LocationChangedEventArgs e)
    {
        currentUrl = NavigationManager.ToBaseRelativePath(e.Location);
        StateHasChanged();
    }

    public void Dispose()
    {
        NavigationManager.LocationChanged -= OnLocationChanged;
    }

}